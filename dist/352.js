(self.webpackChunkbloglist_frontend=self.webpackChunkbloglist_frontend||[]).push([[352],{8352:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(2137),l=n(7757),u=n.n(l),o=n(7294),a=n(5697),i=n(4494),c=n(332),s=n(8430),p=n(8004),f=n(9453);function m(e){var t=e.handleSubmit,n=e.title,r=e.author,l=e.url,u=e.hide;return o.createElement("div",null,o.createElement("h2",null,"Add a new blog"),o.createElement(f.Z,{onSubmit:function(e){t(e),u&&u()}},o.createElement(f.Z.Input,{required:!0,label:"Title",id:"title",type:n.type,name:n.name,value:n.value,onChange:n.onChange}),o.createElement(f.Z.Input,{required:!0,label:"Author",id:"author",type:r.type,name:r.name,value:r.value,onChange:r.onChange}),o.createElement(f.Z.Input,{required:!0,label:"URL",id:"url",type:l.type,name:l.name,value:l.value,onChange:l.onChange}),o.createElement(f.Z.Button,{type:"submit"},"Save")))}m.propTypes={handleSubmit:a.PropTypes.func.isRequired,title:a.PropTypes.object.isRequired,author:a.PropTypes.object.isRequired,url:a.PropTypes.object.isRequired,hide:a.PropTypes.func};var b=m,g=n(3727),d=n(1300),h=n(1479),y=function(e){var t=e.blogs,n=e.login;return o.createElement(o.Fragment,null,o.createElement("h2",null,"Your blogs"),o.createElement("div",null,(0,h.Cz)(t,n).length?o.createElement(d.Z,{striped:!0,celled:!0},o.createElement(d.Z.Body,null,(0,h.Cz)(t,n).sort((function(e,t){return e.likes-t.likes})).map((function(e,t){return o.createElement(d.Z.Row,{key:t},o.createElement(d.Z.Cell,null,o.createElement(g.rU,{to:"/blogs/".concat(e.id)},e.title)))})))):o.createElement("p",null,"You don't have any blogs yet")),o.createElement("h2",null,"All blogs"),t.length?o.createElement(d.Z,{striped:!0,celled:!0},o.createElement(d.Z.Body,null,t.sort((function(e,t){return e.likes-t.likes})).map((function(e,t){return o.createElement(d.Z.Row,{key:t},o.createElement(d.Z.Cell,null,o.createElement(g.rU,{to:"/blogs/".concat(e.id)},e.title)))})))):o.createElement("p",null,"There are no blogs yet"))};y.propTypes={login:a.PropTypes.object.isRequired,blogs:a.PropTypes.array.isRequired};var v=(0,i.$j)((function(e){return{blogs:e.blogs,login:e.login}}),null)(y),E=n(2086);function Z(e){var t=(0,E.U)("text","title"),n=(0,E.U)("text","author"),l=(0,E.U)("text","url"),a=e.login,i=e.setNotification,c=e.createBlog,s=function(){var e=(0,r.Z)(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),(0,h.ww)(l.value)){e.next=4;break}return i({error:'Please use a valid URL as "https://" or "http://"'}),e.abrupt("return",null);case 4:return e.prev=4,e.next=7,c(a.token,(0,h.gU)(t,n,l));case 7:i({message:'A new blog "'.concat(t.value," by ").concat(n.value,'" added')}),t.setValue(""),n.setValue(""),l.setValue(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),i({error:"Could not add the blog: ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement("h1",{"aria-live":"polite"},"Blogs"),o.createElement("main",null,o.createElement(v,null),o.createElement(p.Z,{buttonLabel:"New blog"},o.createElement(b,{handleSubmit:s,title:t,author:n,url:l}))))}var w={createBlog:s.Vh,setNotification:c.s};Z.propTypes={login:a.PropTypes.object.isRequired,setNotification:a.PropTypes.func.isRequired,createBlog:a.PropTypes.func.isRequired};var C=(0,i.$j)((function(e){return{login:e.login}}),w)(Z)},8004:function(e,t,n){"use strict";var r=n(3391),l=n(7294),u=n(5697),o=n(8237);function a(e){var t=e.buttonLabel,n=e.children,u=(0,l.useState)(!1),a=(0,r.Z)(u,2),i=a[0],c=a[1],s=function(){return c(!1)},p=l.Children.map(n,(function(e){return l.cloneElement(e,{hide:s})}));return l.createElement("div",null,i?l.createElement(l.Fragment,null,p,l.createElement(o.Z,{onClick:function(){return c(!i)}},"Cancel")):l.createElement(o.Z,{onClick:function(){return c(!i)}},t))}a.propTypes={buttonLabel:u.PropTypes.string.isRequired},t.Z=a},2086:function(e,t,n){"use strict";n.d(t,{U:function(){return u}});var r=n(3391),l=n(7294),u=function(e,t){var n=(0,l.useState)(""),u=(0,r.Z)(n,2),o=u[0],a=u[1];return{name:t,type:e,value:o,onChange:function(e){a(e.target.value)},setValue:a}}},1479:function(e,t,n){"use strict";n.d(t,{Cz:function(){return o},gU:function(){return a},ww:function(){return i},R$:function(){return c},CV:function(){return s}});var r=n(6156);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e,t){return e.filter((function(e){return e.user.username===t.username}))},a=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e[t.name]=t.value})),e},i=function(e){return!!("http://"===e.substring(0,7)|"https://"===e.substring(0,8))},c=function(e,t){return e.map((function(e){var n=t.filter((function(t){return t.user.id===e.id}));return u(u({},e),{},{blogs:n})}))},s=function(e){return 0===Object.keys(e).length}}}]);