(self.webpackChunkbloglist_frontend=self.webpackChunkbloglist_frontend||[]).push([[594,11],{7594:function(e,t,n){"use strict";n.a(e,(async function(e){n.r(t);var r=n(2137),a=n(3391),o=n(7757),c=n.n(o),i=n(7294),l=n(5697),u=n(4494),s=n(3727),m=n(5977),f=n(332),d=n(6499),p=n(8430),E=n(6011),g=n(5103),h=(await Promise.all([n.e(736),n.e(352)]).then(n.bind(n,8352))).default,v=(await Promise.all([n.e(736),n.e(83)]).then(n.bind(n,9083))).default,w=(await Promise.all([n.e(736),n.e(772)]).then(n.bind(n,772))).default,b=(await Promise.all([n.e(736),n.e(415)]).then(n.bind(n,7415))).default;function y(e){var t=(0,i.useState)(!0),n=(0,a.Z)(t,2),o=n[0],l=n[1],u=e.initializeBlogs,f=e.setNotification,d=e.getUsers,p=e.login;return(0,i.useEffect)((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(2);case 1:case"end":return e.stop()}}),e)})))),i.createElement("div",{className:"loggedin-content"},i.createElement(s.VK,null,i.createElement(g.Z,{username:p.username}),i.createElement(E.default,null),o?i.createElement(i.Fragment,null,i.createElement("div",{className:"loader"}),i.createElement("p",null,"Fetching data...")):null,i.createElement(m.AW,{exact:!0,path:"/",render:function(){return i.createElement(h,null)}}),i.createElement(m.AW,{path:"/blogs/:id",render:function(e){var t=e.match;return i.createElement(v,{match:t})}}),i.createElement(m.AW,{exact:!0,path:"(/blogs)",render:function(){return i.createElement(m.l_,{to:"/"})}}),i.createElement(m.AW,{exact:!0,path:"(/blogs/)",render:function(){return i.createElement(m.l_,{to:"/"})}}),i.createElement(m.AW,{path:"/users/:id",render:function(e){var t=e.match;return i.createElement(w,{match:t})}}),i.createElement(m.AW,{exact:!0,path:"/users/)",render:function(){return i.createElement(m.l_,{to:"/users"})}}),i.createElement(m.AW,{exact:!0,path:"/users",render:function(){return i.createElement(b,null)}})));function y(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return e.next=5,d();case 5:l(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),f({error:"Could not fetch data: ".concat(e.t0.message,". Retrying...")}),setTimeout((function(){y(t)}),1e3*t);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}var Z={initializeBlogs:p.g_,setNotification:f.s,getUsers:d.R};y.propTypes={initializeBlogs:l.PropTypes.func.isRequired,setNotification:l.PropTypes.func.isRequired,getUsers:l.PropTypes.func.isRequired,login:l.PropTypes.object.isRequired},t.default=(0,u.$j)((function(e){return{login:e.login}}),Z)(y),e()}),1)},5103:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(3391),a=n(7294),o=n(5697),c=n(3727),i=n(8237),l=function(){window.localStorage.clear(),window.location.href=window.location.origin},u=function(){return a.createElement(a.Fragment,null,a.createElement(i.Z,{onClick:l},"Logout"))},s=n(284),m=function(e){var t=e.username,n=(0,a.useState)(window.location.pathname.substr(1)||"blogs"),o=(0,r.Z)(n,2),i=o[0],l=o[1];return a.createElement("nav",null,a.createElement(s.Z,{widths:"4"},a.createElement(s.Z.Item,{active:"blogs"===i},a.createElement(c.rU,{to:"/",onClick:function(){return l("blogs")}},"Blogs")),a.createElement(s.Z.Item,{active:"users"===i},a.createElement(c.rU,{to:"/users",onClick:function(){return l("users")}},"Users")),a.createElement(s.Z.Item,null,t," logged in"),a.createElement(s.Z.Item,null,a.createElement(u,null))))};m.propTypes={username:o.PropTypes.string.isRequired};var f=m},6011:function(e,t,n){"use strict";n.r(t);var r=n(7294),a=n(5697),o=n(4494),c=n(4631),i=n(8237),l=function(e){var t=e.notification,n=e.setNotification,a=t.message,o=t.error,l=function(){n("")};return r.createElement(c.Z,{open:!(!a&&!o),onClose:function(){return l()},className:"notification ".concat(a?"message":"error"),role:"alert"},r.createElement("i",null,function(){if(a||o)return setTimeout((function(){return u(5)}),200),a||o}()),r.createElement(c.Z.Actions,null,r.createElement(i.Z,{id:"modal-close",color:"red",onClick:function(){return l()}},"Close")));function u(e){var t=document.getElementById("modal-close"),n=document.querySelector(".modal");t&&n?(t.focus(),n.addEventListener("keydown",(function(e){"Tab"===e.key&&(e.preventDefault(),t.focus())}))):e>0&&u(e--)}},u={setNotification:n(332).s};l.propTypes={setNotification:a.PropTypes.func.isRequired},t.default=(0,o.$j)((function(e){return{notification:e.notification}}),u)(l)}}]);