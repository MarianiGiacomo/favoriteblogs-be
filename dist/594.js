(self.webpackChunkfavoriteblogs_fe=self.webpackChunkfavoriteblogs_fe||[]).push([[594,11],{7594:function(e,t,n){"use strict";n.a(e,(async function(e){n.r(t);var r=n(2137),o=n(3391),a=n(7757),c=n.n(a),l=n(7294),u=n(5697),i=n(4494),s=n(3727),f=n(5977),m=n(332),p=n(6499),d=n(8430),g=n(6011),E=n(5103),b=n(4563),h=(await Promise.all([n.e(736),n.e(352)]).then(n.bind(n,8352))).default,y=(await Promise.all([n.e(736),n.e(83)]).then(n.bind(n,9083))).default,v=(await Promise.all([n.e(736),n.e(772)]).then(n.bind(n,772))).default,w=((await Promise.resolve().then(n.bind(n,4563))).default,function(e){var t=(0,l.useState)(!0),n=(0,o.Z)(t,2),a=n[0],u=n[1],i=e.initializeBlogs,m=e.setNotification,p=e.getUsers,d=e.login;return(0,l.useEffect)((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(2);case 1:case"end":return e.stop()}}),e)})))),l.createElement("div",{className:"loggedin-content"},l.createElement(s.VK,null,l.createElement(E.Z,{username:d.username}),l.createElement(g.default,null),a?l.createElement(l.Fragment,null,l.createElement("div",{className:"loader"}),l.createElement("p",null,"Fetching data...")):null,l.createElement(f.AW,{exact:!0,path:"/",render:function(){return l.createElement(h,null)}}),l.createElement(f.AW,{path:"/blogs/:id",render:function(e){var t=e.match;return l.createElement(y,{match:t})}}),l.createElement(f.AW,{exact:!0,path:"(/blogs)",render:function(){return l.createElement(f.l_,{to:"/"})}}),l.createElement(f.AW,{exact:!0,path:"(/blogs/)",render:function(){return l.createElement(f.l_,{to:"/"})}}),l.createElement(f.AW,{path:"/users/:id",render:function(e){var t=e.match;return l.createElement(v,{match:t})}}),l.createElement(f.AW,{exact:!0,path:"/users/)",render:function(){return l.createElement(f.l_,{to:"/users"})}}),l.createElement(f.AW,{exact:!0,path:"/users",render:function(){return l.createElement(b.default,null)}})));function w(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return e.next=5,p();case 5:u(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),m({error:"Could not fetch data: ".concat(e.t0.message,". Retrying...")}),setTimeout((function(){w(t)}),1e3*t);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}),Z={initializeBlogs:d.g_,setNotification:m.s,getUsers:p.R};w.propTypes={initializeBlogs:u.PropTypes.func.isRequired,setNotification:u.PropTypes.func.isRequired,getUsers:u.PropTypes.func.isRequired,login:u.PropTypes.object.isRequired},t.default=(0,i.$j)((function(e){return{login:e.login}}),Z)(w),e()}),1)},4563:function(e,t,n){"use strict";n.r(t);var r=n(7294),o=n(5697),a=n(4494),c=n(3727),l=n(1300),u=n(1479),i=function(e){var t=e.users,n=e.blogs;return r.createElement(r.Fragment,null,r.createElement("h1",{"aria-live":"polite"},"Users"),r.createElement("main",null,r.createElement(l.Z,{striped:!0,celled:!0},r.createElement(l.Z.Header,null,r.createElement(l.Z.Row,null,r.createElement(l.Z.HeaderCell,null,"Name"),r.createElement(l.Z.HeaderCell,null,"Blogs created"))),r.createElement(l.Z.Body,null,(0,u.R$)(t,n).map((function(e,t){return r.createElement(l.Z.Row,{key:t},r.createElement(l.Z.Cell,null,r.createElement(c.rU,{to:"/users/".concat(e.id)},e.name)),r.createElement(l.Z.Cell,null,e.blogs.length))}))))))};i.propTypes={users:o.PropTypes.array.isRequired,blogs:o.PropTypes.array.isRequired},t.default=(0,a.$j)((function(e){return{users:e.users,blogs:e.blogs}}),null)(i)},5103:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(3391),o=n(7294),a=n(5697),c=n(3727),l=n(8237),u=function(){window.localStorage.clear(),window.location.href=window.location.origin},i=function(){return o.createElement(l.Z,{onClick:u},"Logout")},s=n(284),f=function(e){var t=e.username,n=(0,o.useState)(window.location.pathname.substr(1)||"blogs"),a=(0,r.Z)(n,2),l=a[0],u=a[1];return o.createElement("nav",null,o.createElement(s.Z,{widths:"4"},o.createElement(s.Z.Item,{active:"blogs"===l},o.createElement(c.rU,{to:"/",onClick:function(){return u("blogs")}},"Blogs")),o.createElement(s.Z.Item,{active:"users"===l},o.createElement(c.rU,{to:"/users",onClick:function(){return u("users")}},"Users")),o.createElement(s.Z.Item,null,t," logged in"),o.createElement(s.Z.Item,null,o.createElement(i,null))))};f.propTypes={username:a.PropTypes.string.isRequired};var m=f},6011:function(e,t,n){"use strict";n.r(t);var r=n(7294),o=n(5697),a=n(4494),c=n(4631),l=n(8237),u=function(e){var t=e.notification,n=e.setNotification,o=t.message,a=t.error,u=function(){n("")};return r.createElement(c.Z,{open:!(!o&&!a),onClose:function(){return u()},className:"notification ".concat(o?"message":"error"),role:"alert"},r.createElement("i",null,function(){if(o||a)return setTimeout((function(){return i(5)}),200),o||a}()),r.createElement(c.Z.Actions,null,r.createElement(l.Z,{id:"modal-close",color:"red",onClick:function(){return u()}},"Close")));function i(e){var t=document.getElementById("modal-close"),n=document.querySelector(".modal");t&&n?(t.focus(),n.addEventListener("keydown",(function(e){"Tab"===e.key&&(e.preventDefault(),t.focus())}))):e>0&&i(e--)}},i={setNotification:n(332).s};u.propTypes={setNotification:o.PropTypes.func.isRequired},t.default=(0,a.$j)((function(e){return{notification:e.notification}}),i)(u)},1479:function(e,t,n){"use strict";n.d(t,{Cz:function(){return c},gU:function(){return l},ww:function(){return u},R$:function(){return i},CV:function(){return s}});var r=n(6156);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){return e.filter((function(e){return e.user.username===t.username}))},l=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e[t.name]=t.value})),e},u=function(e){return!!("http://"===e.substring(0,7)|"https://"===e.substring(0,8))},i=function(e,t){return e.map((function(e){var n=t.filter((function(t){return t.user.id===e.id}));return a(a({},e),{},{blogs:n})}))},s=function(e){return 0===Object.keys(e).length}}}]);